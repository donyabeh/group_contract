---
title: "Project"
author: "Caroline, Kim-Linh, Anna, Donya"
self-contained: true
code-tools: true
echo: true
message: false
warning: false
---

## Setting up R space and reading in data
```{r}
library(tidyverse)
happiness <- read_csv("hapiscore_whr.csv")
lex <- read_csv("lex.csv")
```


### Cleaning data
```{r}
lex_clean <- lex |>
  select(country, `2005`:`2022`) |>
  pivot_longer(cols = `2005`:`2022`,
               names_to = "year",
               values_to = "life_expectancy")

hap_clean <- happiness |>
  pivot_longer(cols = `2005`:`2022`,
               names_to = "year",
               values_to = "hap_score")
```

### Joining data
```{r}
hap_lex <-hap_clean |>
    inner_join(lex_clean) |>
    filter(year <= 2019)


head(hap_lex)
```

```{r}
nrow(lex)

nrow(happiness)

```

## Data and variable descriptions 
Our project incorporates two datasets: "lex.csv" and "hapiscore_whr.csv." In "lex.csv," the variable "country" lists 195 different countries, and each column represents a year from 1800 to 2100. The values indicate the projected lifespan of newborn infants if mortality rates at different ages remain constant throughout their lives for each country. The data from 1800 to 1970 comes from version 7 by Mattias Lindgren, compiled from 100 sources. For the period 1970 to 2016, the main source is the Institute for Health Metrics and Evaluation (IHME) and their Global Burden of Disease Study. IHME data from 1970 to 2017 was published in September 2017, and data from 2017 to 2100 was sourced from the United Nations' World Population Prospects 2019. In "hapiscore_whr.csv," the "country" column lists 163 different countries, and each year from 2005 to 2022 has a corresponding column. The data set focuses on the "Happiness score" or "Cantril life ladder", representing the national average response to a life evaluation question. The scale is converted from 0-10 to 0-100 for easier communication. Data is sourced from the World Happiness Report and Gallup World Poll surveys conducted in multiple countries and languages. Data cleaning and analysis were performed using the "tidyverse" package in R, involving column selection, transformation to long format, and removal of null values. The data sets were then joined using an inner join operation based on common columns.

## Hypothesis about variables
We hypothesize that life expectancy will increase with happiness score. This is more of an intuitive belief, as we would expect that with a high percentage of happiness, people in the respective countries would live longer. Of course, this can vary from country to country. It is possible that more developed countries could have a higher happiness score and life expectancy rate, while less developed countries result in the opposite.